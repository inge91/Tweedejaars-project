
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting Started &mdash; qiBuild 1.12.3 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.12.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="qiBuild 1.12.3 documentation" href="index.html" />
    <link rel="next" title="qiBuild in five minutes" href="qibuild_in_five_minutes.html" />
    <link rel="prev" title="qiBuild documentation" href="index.html" /> 
  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      <h1><a href="index.html">qiBuild 1.12.3 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="index.html">Home</a>
        
         |
        <a title="Search" href="search.html">Search</a>
         |
        <a title="Index" href="genindex.html">Index</a>
        
         |
        <a title="CMake index" href="cmake-functions-index.html">CMake index</a>
         |
        <a title="Python index" href="py-modindex.html">Python index</a>
        
        
         |
        <a title="Back to main doc"
            href="../index.html"> Back to NAO Software Documentation </a>
        
      </div>
      <div class="nav">
    &laquo; <a href="index.html" title="qiBuild documentation">previous</a>
     |
    <a title="qiBuild 1.12.3 documentation" href="index.html" accesskey="U">up</a>
   |
    <a href="qibuild_in_five_minutes.html" title="qiBuild in five minutes">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="getting_started">
            
  <div class="section" id="getting-started">
<span id="qibuild-getting-started"></span><h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Python 2.7 is the preferred version, but qiBuild should work fine on python
2.6, too. Note that to prepare a possible conversion to python3, python2.5 is
<em>not</em> supported.</p>
<p>CMake version 2.8.3 is the preferred version, but you should not have any
problem with CMake 2.6. On Windows, choose to add CMake to your <tt class="docutils literal"><span class="pre">%PATH%.</span></tt></p>
<p>On windows, to use scripts written in Python, you have to put <tt class="docutils literal"><span class="pre">C:\Python2.x</span></tt> and
<tt class="docutils literal"><span class="pre">c:\Python2.x\Scripts</span></tt> in your <tt class="docutils literal"><span class="pre">PATH</span></tt>.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Get the source code from github: <a class="reference external" href="https://github.com/aldebaran/qibuild">https://github.com/aldebaran/qibuild</a></p>
<div class="section" id="linux-mac">
<h3>Linux, mac<a class="headerlink" href="#linux-mac" title="Permalink to this headline">¶</a></h3>
<p>Simply run:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">./install-qibuild.sh</span>
</pre></div>
</div>
<p>And make sure <tt class="docutils literal"><span class="pre">~/.local/bin</span></tt> is in your <tt class="docutils literal"><span class="pre">PATH</span></tt></p>
<p>On mac, make sure <tt class="docutils literal"><span class="pre">cmake</span></tt> is in your path.</p>
</div>
<div class="section" id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p>Just run <tt class="docutils literal"><span class="pre">install-qibuild.bat</span></tt>:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">c:\path\to\qibuild&gt; install-qibuild.bat</span>
</pre></div>
</div>
<p>If you have bash available on your system, and want to use qiBuild from there,
you should also be able to use the .sh script. (Be careful if you are using
cygwin: you must be sure the .sh has UNIX end of lines)</p>
<p>Plase make sure that <tt class="docutils literal"><span class="pre">CMake</span></tt> is in your <tt class="docutils literal"><span class="pre">PATH</span></tt></p>
<p>If you&#8217;d like to have nice colors in your console, you can install
the Python readline library: <a class="reference external" href="http://pypi.python.org/pypi/pyreadline">http://pypi.python.org/pypi/pyreadline</a></p>
</div>
</div>
<div class="section" id="first-run">
<h2>First run<a class="headerlink" href="#first-run" title="Permalink to this headline">¶</a></h2>
<p>You should run</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> qibuild config --wizard
</pre></div>
</div>
<p>The first time you run qibuild and then answer the questions.</p>
<p>A file will be generated in <tt class="docutils literal"><span class="pre">~/.config/qi/qibuild.xml</span></tt>.
It is shared by all the worktrees you will create.</p>
<p>You will be asked for the CMake path if qibuild does not find it,
then you will be asked to choose a CMake generator.</p>
<p>It is advised to use &#8216;Unix Makefiles&#8217; on Linux and Mac, and
&#8216;Visual Studio&#8217; on Windows.</p>
<p>Keep reading if you want to use other generators.</p>
<p>Note that you can still re-run the config wizard anytime you want.</p>
</div>
<div class="section" id="creating-a-work-tree">
<h2>Creating a work tree<a class="headerlink" href="#creating-a-work-tree" title="Permalink to this headline">¶</a></h2>
<p>You need to chose a qibuild &#8220;worktree&#8221;.</p>
<p>This path will be the root from where qiBuild searches to find the sources of
your projects.</p>
<p>In the following document, we will use the notation <tt class="docutils literal"><span class="pre">QI_WORK_TREE</span></tt> to refer
to this path.</p>
<p>Then go to this directory and run</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> qibuild init
</pre></div>
</div>
<p>This will create a new qiBuild configuration file in your working directory, in
<tt class="docutils literal"><span class="pre">QI_WORK_TREE/.qi/qibuild.xml</span></tt>.</p>
<p>This file contains settings that will only used by this worktree.</p>
<p>If you re-run <tt class="docutils literal"><span class="pre">qibuild</span> <span class="pre">config</span> <span class="pre">--wizard</span></tt> form a directory inside your worktree,
the wizard will ask you if you want to configure settings for this worktree.</p>
</div>
<div class="section" id="configuring-qibuild">
<h2>Configuring qiBuild<a class="headerlink" href="#configuring-qibuild" title="Permalink to this headline">¶</a></h2>
<p>You can run <tt class="docutils literal"><span class="pre">qibuild</span> <span class="pre">config</span></tt> to get a look at your current settings,
and change them by editing the xml files, or re-running <tt class="docutils literal"><span class="pre">qibuild</span> <span class="pre">config</span> <span class="pre">--wizard</span></tt></p>
<div class="section" id="building-with-unix-makefiles">
<h3>Building with Unix Makefiles<a class="headerlink" href="#building-with-unix-makefiles" title="Permalink to this headline">¶</a></h3>
<p>No specific configuration is needed, since this is the default behaviour.
Enjoy!</p>
</div>
<div class="section" id="configuring-qibuild-for-visual-studio">
<h3>Configuring qiBuild for Visual Studio<a class="headerlink" href="#configuring-qibuild-for-visual-studio" title="Permalink to this headline">¶</a></h3>
<p>You will have to make sure CMake uses the proper generator for qiBuild to work
with Visual Studio.</p>
<p>Here’s what a complete <tt class="docutils literal"><span class="pre">~/.config/.qi/qibuild.xml</span></tt> would look like to use Visual Studio 2008</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;cmake</span> <span class="na">generator =</span> <span class="s">&quot;Visual Studio 9 2008&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<p>For command line addicts (or people doing continuous integration who would like
a better build output), you can also:</p>
<ul class="simple">
<li>Use <tt class="docutils literal"><span class="pre">&lt;cmake_generator</span> <span class="pre">=</span> <span class="pre">&quot;NMake</span> <span class="pre">Makefiles&quot;</span> <span class="pre">/&gt;</span></tt> and use qibuild from the Visual
Studio command prompt.</li>
<li>Or, if you do not want to use the Visual Studio command prompt, you can
specify a <tt class="docutils literal"><span class="pre">.bat</span></tt> file to be ran by qibuild, like this</li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;env</span> <span class="na">bat_file=</span><span class="s">&quot;c:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;cmake</span> <span class="na">generator =</span> <span class="s">&quot;NMake Makefiles&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<p>(the location of the <tt class="docutils literal"><span class="pre">.bat</span></tt> file depends on your setup)</p>
</div>
<div class="section" id="configuring-qibuild-for-eclipse-cdt">
<h3>Configuring qiBuild for Eclipse CDT<a class="headerlink" href="#configuring-qibuild-for-eclipse-cdt" title="Permalink to this headline">¶</a></h3>
<p>Eclipse supports having distinct directories for the source and the build, but
does not like if the later is a subdirectory of the former.</p>
<p>So you have to use a global build directory, by editing
<tt class="docutils literal"><span class="pre">QI_WORK_TREE/.qi/qibuild.xml</span></tt> to have</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;build</span> <span class="na">build_dir=</span><span class="s">&quot;/path/to/build/directory&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<p>Your project build directory will then be
<tt class="docutils literal"><span class="pre">/path/to/build/directory/build-&lt;config&gt;/&lt;project-name&gt;</span></tt>.</p>
<p>Or, if you chose a relative path, it will be relative to the
worktree.</p>
<p>You can also run <tt class="docutils literal"><span class="pre">qibuild</span> <span class="pre">config</span> <span class="pre">--wizard</span></tt> like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> qibuild config --wizard
<span class="go">:: Do you want to configure settings for this worktree (Y/n)</span>
<span class="go">y</span>
<span class="go">:: Do you want to use a unique build dir (mandatory when using Eclipse) (y/N)</span>
<span class="go">y</span>
<span class="go">:: Path to a build directory</span>
<span class="go">~/workspace/build</span>
<span class="go">Will use /home/john/workspace/build as a root for all build directories</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">cd </span>QI_WORK_TREE
<span class="gp">$</span> qibuild configure
</pre></div>
</div>
<p>Then from within eclipse, go to &#8220;File -&gt; Import&#8221; then choose
&#8220;General -&gt; General Projects into Workspace&#8221; and select your build directory
as &#8220;root directory&#8221;. Let the &#8220;Copy projects into workspace&#8221; box unchecked
and click &#8220;Finish&#8221;.</p>
</div>
<div class="section" id="configuring-qibuild-for-qtcreator">
<h3>Configuring qiBuild for QtCreator<a class="headerlink" href="#configuring-qibuild-for-qtcreator" title="Permalink to this headline">¶</a></h3>
<div class="section" id="on-unix">
<h4>on Unix<a class="headerlink" href="#on-unix" title="Permalink to this headline">¶</a></h4>
<p>No specific configuration is needed, since QtCreator loads the CMakeList.txt
directly. Enjoy!</p>
<p>Just run <tt class="docutils literal"><span class="pre">qibuild</span> <span class="pre">configure</span></tt> by hand first, and choose the build directory
generated by <tt class="docutils literal"><span class="pre">qibuild</span></tt> when the CMake wizard asks for one.</p>
</div>
<div class="section" id="on-windows">
<h4>on Windows<a class="headerlink" href="#on-windows" title="Permalink to this headline">¶</a></h4>
<p>The preferred way to use qibuild on Windows is with Visual Studio, and please
note that Aldebaran does not provide a C++ SDK for mingw.</p>
<p>But, if you do not want to use Visual Studio, you can still use qibuild
with QtCreator and the mingw package that comes with it.</p>
<ul class="simple">
<li>Get the latest qtcreator and install it. (you only need the qtcreator
package, no need for the full-fledged Qt SDK)</li>
<li>Add the MinGW’s path to your %PATH% so that QtCreator can find mingw32-make
without running qmake</li>
<li>Tell qibuild to use &#8220;MinGW Makefiles&#8221;</li>
</ul>
<p>Here’s what a complete <tt class="docutils literal"><span class="pre">.config/.qi/qibuild.xml</span></tt> would look like to use MinGW with QtCreator</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;env</span> <span class="na">path=</span><span class="s">&quot;C:\qtcreator\mingw\bin&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;cmake</span> <span class="na">general=</span><span class="s">&quot;MinGW Makefiles&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">qibuild never modify os.environ globally, so the executable you
just built won&#8217;t run unless you have mingw&#8217;s DLLs in your PATH.</p>
</div>
</div>
</div>
<div class="section" id="configuring-qibuild-for-mingw-with-msys">
<h3>Configuring qiBuild for MinGW with Msys<a class="headerlink" href="#configuring-qibuild-for-mingw-with-msys" title="Permalink to this headline">¶</a></h3>
<p>You will have to do several things for qibuild to work with MinGW.</p>
<ul class="simple">
<li>Set PATH properly so that make.exe and gcc.exe are found</li>
<li>Make sure CMake uses the correct generator</li>
</ul>
<p>Here’s what a complete <tt class="docutils literal"><span class="pre">.config/qi/qibuild.xml</span></tt> would look like to use MinGW</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;env</span> <span class="na">path=</span><span class="s">&quot;C:\Mingw\bin;C:\MinGW\msys\1.0\bin;&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;cmake</span> <span class="na">generator =</span> <span class="s">&quot;Unix Makefiles&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">here you have to setup a complete msys environnement before being
able to use qibuild.</p>
</div>
</div>
</div>
</div>


          </div>
          <div class="footernav">
    &laquo; <a href="index.html" title="qiBuild documentation">qiBuild documentation</a>
     |
    <a title="qiBuild 1.12.3 documentation" href="index.html" accesskey="U">up</a>
   |
    <a href="qibuild_in_five_minutes.html" title="qiBuild in five minutes">qiBuild in five minutes</a> &raquo;</div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
    <ul class="this-page-menu">
      <li><a href="_sources/getting_started.txt"
             rel="nofollow">Show Source</a></li>
    </ul>


  <h3>Table Of Contents</h3>
  <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Getting Started</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="qibuild_in_five_minutes.html">qiBuild in five minutes</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/index.html">qiBuild reference documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/index.html">qiBuild Programming guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/index.html">Contributing to qiBuild</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/cmake/managing_deps.html">Managing dependences with qiBuild: an overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/cmake/searching.html">Search order</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/cmake/shared_libs.html">Managing shared libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/cmake/index.html">qiBuild CMake framework design</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/python/overviews/parsing_cmdline.html">Parsing command line arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/python/overviews/handling_build_configurations.html">Handling build configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/python/overviews/handling_cmake_flags.html">Handling CMake flags</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/python/overviews/parsing_toolchain_feeds.html">Parsing toolchain feeds</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/python/index.html">qiBuild Python framework design</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/index.html">qiBuild design</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_build_frameworks.html">qiBuild compared to other build frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="relnotes.html">qiBuild release notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contrib/cmake/coding_guide.html">CMake coding guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/python/coding_guide.html">Python coding guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contrib/running_test_suite.html">Running qiBuild test suite</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contrib/writing_documentation.html">Writing qiBuild documentation</a></li>
</ul>

    <h3><a href="index.html">On this page</a></h3>
    <ul>
<li><a class="reference internal" href="#">Getting Started</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#linux-mac">Linux, mac</a></li>
<li><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#first-run">First run</a></li>
<li><a class="reference internal" href="#creating-a-work-tree">Creating a work tree</a></li>
<li><a class="reference internal" href="#configuring-qibuild">Configuring qiBuild</a><ul>
<li><a class="reference internal" href="#building-with-unix-makefiles">Building with Unix Makefiles</a></li>
<li><a class="reference internal" href="#configuring-qibuild-for-visual-studio">Configuring qiBuild for Visual Studio</a></li>
<li><a class="reference internal" href="#configuring-qibuild-for-eclipse-cdt">Configuring qiBuild for Eclipse CDT</a></li>
<li><a class="reference internal" href="#configuring-qibuild-for-qtcreator">Configuring qiBuild for QtCreator</a><ul>
<li><a class="reference internal" href="#on-unix">on Unix</a></li>
<li><a class="reference internal" href="#on-windows">on Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuring-qibuild-for-mingw-with-msys">Configuring qiBuild for MinGW with Msys</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="index.html" title="qiBuild documentation">previous</a>
     |
    <a title="qiBuild 1.12.3 documentation" href="index.html" accesskey="U">up</a>
   |
    <a href="qibuild_in_five_minutes.html" title="qiBuild in five minutes">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>